<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Blogs & Articles</title>
    <link rel="stylesheet" href="blogstyle/style5.css" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- HEADER -->
    <header class="header-title-container">
      <div class="pro-container">
        <div class="title-nav-container">
          <h1>StreetDeli.</h1>
          <img
            src="img/nav2.jpg"
            width="25"
            height="25"
            alt="Navigation menu"
            class="nav-icon"
          />
        </div>
        <img
          src="img/profile.png"
          width="40"
          height="40"
          alt="User profile"
          class="profile-icon"
        />
      </div>
    </header>
    <hr />
    <!-- MAIN CONTENT -->
    <main>
      <!-- BREADCRUMB -->
      <nav id="browse-route" aria-label="breadcrumb">
        <a href="#">Home</a><span> / </span
        ><span><a href="blogs.html">Blogs and Articles</a></span
        ><span> / </span><span>Blogs and Articles Form</span>
      </nav>

      <div class="form-card">
        <h2>Blogs and Articles Form</h2>
        <p class="subtitle">We will contact you within 2 days</p>

        <div class="form-wrapper">
          <form id="blogForm" enctype="multipart/form-data">
            <div class="form-group">
              <label for="name">Name</label>
              <input type="text" id="name" name="name" required />
            </div>

            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" name="email" required />
            </div>

            <div class="form-group">
              <label for="message">Message</label>
              <textarea id="message" name="message" rows="4"></textarea>
            </div>

            <div class="form-group">
              <label for="article">Upload Your Article (PDF)</label>
              <input
                type="file"
                id="article"
                name="attachment"
                accept=".pdf"
                required
              />
              <small>Only PDF files are allowed.</small>
            </div>

            <div class="form-group checkbox-group">
              <input type="checkbox" id="terms" required />
              <label for="terms"
                >I agree to the <a href="#">Terms & Conditions</a></label
              >
            </div>

            <button type="submit">Submit</button>
            <div id="resultBox" class="result">
              Your article has been submitted!
            </div>
          </form>
        </div>
      </div>

      <!-- FOOTER SECTION -->
      <div id="footer-placeholder"></div>
    </main>

    <!-- Bootstrap JS + jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      fetch("footer.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("footer-placeholder").innerHTML = data;
        });
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("myForm");
        const nameInput = document.getElementById("name");
        const emailInput = document.getElementById("email");
        const resultBox = document.getElementById("resultBox");

        // Restore name + email from localStorage
        if (localStorage.getItem("formName"))
          nameInput.value = localStorage.getItem("formName");
        if (localStorage.getItem("formEmail"))
          emailInput.value = localStorage.getItem("formEmail");

        // Save name + email on input
        nameInput.addEventListener("input", (e) =>
          localStorage.setItem("formName", e.target.value)
        );
        emailInput.addEventListener("input", (e) =>
          localStorage.setItem("formEmail", e.target.value)
        );

        // Handle form submit
        form.addEventListener("submit", function (e) {
          e.preventDefault();

          const name = nameInput.value;
          const email = emailInput.value;

          // Show result
          resultBox.classList.remove("d-none");
          resultBox.innerHTML = `
      <h5 class="mb-2">âœ… Form Submitted Successfully</h5>
      <p><strong>Name:</strong> ${name}</p>
      <p><strong>Email:</strong> ${email}</p>
    `;

          // Clear localStorage after submit
          localStorage.removeItem("formName");
          localStorage.removeItem("formEmail");

          this.reset();
        });
      });
    </script>
  </body>
</html>
